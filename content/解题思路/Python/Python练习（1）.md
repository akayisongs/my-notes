![[Pasted image 20250827162300.png]]
![[Pasted image 20250827162329.png]]
![[Pasted image 20250827162453.png]]

### 思路：
对于给算法计时的问题，我们能快速想到的方法就是在程序运行前后加上时间戳，==那么在Python中如何使用时间戳呢？==`time`模块中有一个方法`time（）`恰好有这样的功能，另外`datetime`模块中也有类似功能的方法，比如`now（）`方法，==能否实现呢？==也能实现，==二者有什么差别吗？==根据我查询的资料来看，`time（）`方法没有日期等信息，直接给秒数，返回值也为`float`类型，而`now（）`方法会给日期等完整信息，返回值为`datetime.datetime`类型，如果用于给算法计时，则使用第一种方法更加方便，而要写日志要记录具体的时间时则可使用第二种方法更准确，确定了使用的方法第一个问题便能轻松解决了；对于后面关于文件处理的三个问题，我们知道的是对于文件处理一定有以下步骤：
                ![[Pasted image 20250827170611.png]]
那么我们首先需要用一个对象存储打开的文件，==如何打开文件呢？==使用`open（）`方法可以实现，要注意的是由于我们需要写入文件，所以需要注意第二个参数应为“w”，这里我们要进行的文件操作是写入文本文件，可以使用`write（）`方法或者`writelines（）`方法写入文档内容，最后一定要记得`close（）`方法关闭文件；接着我们需要读取该文本文件，同样的过程先打开文件，由于这次是进行读取操作，所以第二个参数为“r”，==那么具体如何读出文件内容呢？==可以使用`readlines（）`方法读取文件内容，将内容存入一个对象后，即可关闭文件，这里还要求我们统计单词数，==如何实现这样的行为呢？==如果我们能将每一个单词存进一个列表中就好了，我们可以直接通过求列表长度得到单词数，这就需要我们将刚才的文本文件中内容按照单词之间的连接关系将它们分离开，==那么单词是通过怎样的关系连接的呢？==容易想到单词之间是通过一个空格或者几个空格或者空白分隔开的，那么我们就可以使用`split（）`方法将字符串按空白分隔开，得到的也刚好是一个列表，但是我们还需要注意的是，`split（）`方法只有字符串有该方法，而我们通过`readlines（）`方法读出来的为一个列表，==那么我们如何将一个列表转化为字符串呢？==可以使用`join（）`方法来实现，注意用空格来合成字符串；接着我们需要随机输出其中的十个单词，==如何做到随机呢？==这里我们就需要引入`random`库来实现了，我们可以选择其中的`choice（）`方法来实现，但由于该方法每次只能随机选出一项，所以还需要一个循环来实现，也可以使用`sample（）`方法来直接随机选十个。
### 细节：
- 如何将一段文本（字符串）写入到文件中？
    通过`open()`函数以写入模式（`'w'`）打开文件；使用`with`语句来自动管理文件的打开和关闭，避免忘记`close()`导致的问题。
- 为什么列表转化为字符串时，是用空格分开呢？
    因为之后将字符串分成单词时是将空白作为分组依据的，只要用空格转化字符串，就能保证每个词分隔开。
**经过上面的思路我们便能很容易发现一定要注意使用方法后返回值的类型**
### 步骤：
#### 1. 任务定义与模块导入
- **定义任务**：程序需完成两个独立部分：(1) 为阶乘算法计时；(2) 对文本文件进行读写、统计和抽样操作。
- **导入模块**：
    - `time`: 用于精确计时。
    - `math`: 用于执行阶乘计算。
    - `random`: 用于从单词列表中随机抽样。
#### 2. “算法计时”外层循环初始化
- **使用 `for` 循环**启动计时任务的循环，`for n in range(1, 101)`。
    - **循环变量 `n`**：从1递增至100，覆盖所有需要计时的计算任务。
    - **作用**：每个 `n` 代表当前要计算阶乘的目标数字。
#### 3. “算法计时”核心逻辑初始化
- **在循环内部**初始化计时器。
    - **记录开始时间**：在执行核心计算前，调用 `start_time = time.time()`。
    - **作用**：精确捕获核心算法开始执行的瞬间。
#### 4. 核心计算与操作
- **在计时器启动后**执行具体任务：
    - **阶乘计算**：调用 `math.factorial(n)` 计算当前 `n` 的阶乘。
    - **文件写入**：使用 `f.write(SAMPLE_TEXT)` 将预设的文本内容写入文件。
    - **单词统计**：读取文件内容后，使用 `content.split()` 分割单词，再用 `len()` 获得数量。
    - **随机抽样**：使用 `random.sample(words, 10)` 从单词列表中抽取10个单词。
#### 5. 结果获取与输出机制
- **当核心操作完成时**：
    - **计时结果获取**：调用 `end_time = time.time()`，然后计算差值 `duration = end_time - start_time`。
    - **结果输出**：使用 `print()` 函数将计时结果、单词总数或随机抽取的单词友好地展示在控制台。
#### 6. 任务结束处理
- **当一个独立任务的逻辑执行完毕后**：
    - **计时部分**：循环自然结束，函数执行完毕。
    - **文件处理部分**：`with open(...)` 语句块执行结束时，Python会自动确保文件被正确关闭，即使过程中发生错误。
#### 7. 关键模块与策略
- **计时策略**：选择 `time.time()` 而不是 `datetime`，因为它返回简单的浮点数秒数，非常适合计算时间差，逻辑清晰。
- **文件处理策略**：使用 `with open(...)` 结构，这是Python中处理文件的最佳实践，能保证资源的自动释放。
- **抽样策略**：选择 `random.sample()` 而不是循环调用 `random.choice()`，因为 `sample()` 能一步到位地获取指定数量的**不重复**元素，代码更简洁高效。
#### 8. 程序的健壮性与边界处理
- **文件操作**：使用 `try...except` 块来捕获可能发生的`IOError`或`FileNotFoundError`，防止程序因文件问题而崩溃。
- **随机抽样**：在执行 `random.sample(words, 10)` 之前，先检查 `len(words)` 是否小于10，避免因样本数量不足而引发错误。
下面是代码的具体实现：
![[Pasted image 20250828091817.png]]
![[Pasted image 20250828091911.png]]
### 知识点：
文件处理