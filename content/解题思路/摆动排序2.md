![[Pasted image 20250623003014.png]]
### 思路：
这道题**既然需要交替的小于和大于关系，是否应该对数组排序**？因为排序后能清晰区分元素的大小顺序，这为后续分配提供了基础。于是，我决定先创建数组的排序副本，这样就能明确哪些是较小元素，哪些是较大元素，**那么接下来该如何分配这些排序后的元素呢**？如果简单地将较小元素放在偶数位、较大元素放在奇数位，可能会遇到什么问题？比如当数组存在重复元素时，相邻位置可能出现相等值，违反严格的大小关系要求，**那么如何避免相邻元素相等呢**？我想到可以逆序放置元素，具体来说，将排序后的数组分成两部分：左半部分（前(n+1)/2个元素）和右半部分（剩余元素），然后，将左半部分逆序放入偶数索引（0,2,4...），右半部分逆序放入奇数索引（1,3,5...）。以[1,2,2,3]为例：排序后为[1,2,2,3]，左半逆序[2,1]放偶数位，右半逆序[3,2]放奇数位，得到[2,3,1,2]。验证发现：2<3>1<2，完全满足要求，**但这样分配为什么能确保严格的大小关系呢**？我进一步分析：由于左半部分整体小于等于右半部分，且通过逆序放置，左半的最大值（即逆序后的首个元素）必然小于右半的最大值（逆序后的首个元素），同时，在交叉放置时，每个奇数位的元素（来自右半）都会大于相邻的偶数位元素（来自左半），而偶数位元素又小于下一个奇数位元素（因为当前偶数位来自左半的较小值，下一个奇数位来自右半的较大值），这种双重保障确保了序列的严格摆动性，最后**当数组长度为奇数时如何处理**？比如[1,2,3,4,5]，左半取前3个元素[1,2,3]逆序为[3,2,1]，右半[4,5]逆序为[5,4]，分配后得到[3,5,2,4,1]。验证：3<5>2<4>1，完美符合要求。这说明分割时左半取(n+1)/2能妥善处理奇偶两种情况。
### 细节：
- **为何逆序放置能保证严格大小关系？**
    逆序操作创造双重保障：左半部分的最大值（逆序后首元素）必然小于右半部分的最小值（逆序后末元素）交叉放置时，每个右半元素（奇数位）同时大于前一个左半元素（偶数位）和后一个左半元素（下一偶数位）
### 步骤：
1. 首先，处理边界情况：若数组长度小于等于1，则直接返回无需操作；
2. 创建原数组的排序副本：分配内存空间复制数据后，使用快速排序进行升序排列；
3. 将排序后的数组分割为两部分：左半部分取前`(n+1)/2`个元素作为较小值集合，右半部分取剩余元素作为较大值集合，这种分割比例确保了奇数长度时左半部分多一个元素，为偶数索引提供足够位置；
4. 创建临时数组并按特定规则填充。对于偶数索引位置（0,2,4...），从左半部分的末尾开始逆序取值；而对于奇数索引位置（1,3,5...），则从右半部分的末尾开始逆序取值；
5. 将排列完成的临时数组复制回原数组并释放动态分配的内存。
下面是代码的具体实现：
![[Pasted image 20250623011236.png]]
### 知识点：
贪心算法、数组、排序