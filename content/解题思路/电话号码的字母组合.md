![[Pasted image 20250607195820.png]]

### 思路：
这道题关键要解决如何将数字序列映射为字母组合？这其实就是在寻找数字与字母的对应关系。数字2至9对应电话按键上的字母，其中2-6和8各对应三个字母，而7和9则对应四个字母。当输入多个数字时，需要生成所有可能的字母排列组合，就像树形结构的分支一样层层展开。那么，如何高效生成这些组合呢？最直观的方法是采用迭代策略逐步构建。想象我们手中最初持有一个空字符串作为起点。接着，对输入字符串的每个数字字符依次处理：每当遇到新数字，就取出其对应的所有字母，并将每个字母与现有组合进行连接。那么有哪些特殊情况呢？当输入为空字符串时，显然，此时不存在任何字母组合，直接返回空列表即可。另外，当遇到数字7或9时，由于它们对应四个字母而非三个，组合数量会显著增加。在具体实现时，由于组合数量可能指数级增长（3^m×4^n），需要预先精确计算所需内存空间。首先根据输入数字特征计算组合总数，然后为结果数组动态分配内存。每个字符串的长度固定为输入长度加一（为\0预留空间）。在填充过程中，通过周期计算确定字母添加顺序：将组合总数除以当前字母数量，得到每个字母需要重复的次数周期，再通过模运算确定具体添加的字母。这种计算技巧避免了递归带来的时间复杂度的增长。

### 步骤：
1. 处理特殊情况：检查输入字符串是否为空，若为空则直接返回空结果（空数组），设置返回结果大小为0；
2. 建立数字和字母的映射关系：先创建静态映射数组，根据索引对应数字，填充各数字对应的字母串，注意0和1为空字符串；
3. 遍历输入字符串的每个数字字符，对每个数字：若为'7'或'9'：总数×4，其他数字：总数×3，记录最终组合总数；
4. 分配指针数组存储结果字符串，为每个字符串分配内存：长度 = 输入字符串长度 + 1，初始化所有字符串为空串；
5. 初始化当前组合数 = 1，遍历输入字符串的每个数字：获取当前数字对应的字母串，计算字母串长度，计算重复周期 = 总组合数 / (当前组合数 × 字母数)，更新当前组合数 = 当前组合数 × 字母数，遍历所有结果位置：计算当前应添加的字母索引：索引 = (位置序号 / 重复周期) % 字母数，在当前位置添加对应字母，设置字符串结束符；
6. 设置返回数组大小参数，返回构建完成的字符串数组，注意内存释放。
下面是具体的代码实现：![[Pasted image 20250607213854.png]]
### 知识点：
哈希表、动态分配内存、字符串
